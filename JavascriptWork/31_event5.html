<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="/JavascriptWork/JS/log.js"></script>
    <script>
        window.onload = function() {
        //const children = document.querySelectorAll(".child"); //자식 클래스 모두가져오기
        
        /*
        모든 자식 클래스를 반복문 돌며 함수 걸어주기. 
        이건 예전방식
        for(let i = 0; i < children.length; i++) {
            const ch = children[i];
            ch.addEventListener("click", ev => {
                log(ch.textContent);
            }, false);
        }
        */ 

        /*
        children.forEach(param => {
            param.addEventListener("click", ev => {
                log(param.textContent);
                //log(ev.target.textContent)
            }, false)
        })
        //childern에 있는 갯수만큼 {} 안의 함수 반복해줌. 매개변수 param에 배열값 하나하나를 담아줌.
        */

        //이벤트 위임(위의 과정을 부모에게 한번만 주는것)
        const parent = document.querySelector(".parent");
        parent.addEventListener("click", ev => {
            const ch = ev.target.closest(".child"); //이벤트소스 : parent.에서 가장 가까운 속성중에 클래스가 child인 애들 찾기.
            
            if(ch) {
                log(ch.textContent);
            }
        })

    }
    </script>
</head>
<body>
    <div class="parent">
        <div class="child">1</div>
        <div class="child">2</div>
        <div class="child">3</div>
        <div class="child">4</div>
    </div>

    <br><br>
    <div id="debugConsole" style="border: 2px solid cornflowerblue;"></div>

</body>
</html>